{"name":"Zookie","tagline":"A Zookeeper Management and Query Tool","body":"# Zookie - A RESTful JSON interface to Apache Zookeeper\r\n\r\n## Overview\r\nProivdes CRUD operations on the Zookeeper Node Tree via HTTP.\r\n\r\n## Requirements\r\n* Test with Apache Zookeeper **3.3.2**, **3.3.3** and **3.4.0** versions.\r\n* Maven for building the war\r\n\r\n## Installation\r\n* Clone the repository, use 'mvn install' to build the war file, deploy the war file to any J2EE servlet container.\r\n* To control the ensemble property either modify application.properties before you build or supply the system property for:\r\n\r\n```\r\n-Dorg.projectx.zookeeper.ensemble=zk1:2181,zk2:2181\r\n```\r\n\r\n## Examples\r\n\r\n## Tree - query the node tree\r\n\r\n* Http Method: **GET**\r\n\r\n#### Parameters\r\n\r\n1. root: the root node to start querying from\r\n2. depth: the depth of the tree to query (0 for flat single level, -1 for infinite - use with care in large tress)\r\n3. data: show the data\r\n4. stat: show the ZNode stat\r\n\r\n* URL: ```http://localhost:8080/Zookie/tree``` \r\n\r\n```\r\n{\r\n    \"path\": \"/\", \r\n    \"children\": [\r\n        {\r\n            \"path\": \"/storm\", \r\n            \"data\": \"\u0007\"\r\n        }, \r\n        {\r\n            \"path\": \"/zookeeper\"\r\n        }, \r\n        {\r\n            \"path\": \"/services\"\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n* defaults to a root = /, depth of 1, data = false, stat = false\r\n\r\n* URL:  ```http://localhost:8080/Zookie/tree?root=/services&depth=2&data=true&stat=true```\r\n\r\n```\r\n{\r\n    \"path\": \"/services\", \r\n    \"children\": [\r\n        {\r\n            \"path\": \"/services/prod\", \r\n            \"children\": [\r\n                {\r\n                    \"path\": \"/services/prod/ServiceA\"\r\n                }, \r\n                {\r\n                    \"path\": \"/services/prod/ServiceB\"\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}\r\n```\r\n## Update - update a node's data\r\n\r\n* Http Method: **POST**\r\n* URL: ```http://localhost:8080/tree/update?path=/somenode```\r\n\r\nThe content-type header should be set to **application/json**\r\n\r\nThe post data is the object data to set\r\n\r\n## Delete - delete a node\r\n\r\n* Http Method: **DELETE**\r\n* URL:  ```http://localhost:8080/tree/update?path=/somenode&recursive=true```\r\n\r\nRecursive is false by default, \r\nThe content-type header should be set to application/json \r\n\r\n## Stat - show the server stat, parameters\r\n\r\nhosts: a list of hosts to query (lea\r\n\r\n* Http Method: GET\r\n* URL:  ```http://localhost:8080/Zookie/server/stat```,  ```http://localhost:8080/Zookie/server/stat?hosts=zk1:2181&zk2:2181```\r\n\r\n```\r\n{\r\n    \"zk01.nydc1:2181\": {\r\n        \"version\": \"3.3.4-cdh3u3--1\", \r\n        \"mode\": \"Follower\", \r\n        \"buildDate\": \"01/26/2012 20:09 GMT\", \r\n        \"clients\": [\r\n            {\r\n                \"host\": \"192.168.252.10\", \r\n                \"port\": 37668, \r\n                \"received\": 116563, \r\n                \"sent\": 116563, \r\n                \"ops\": 1, \r\n                \"queued\": 0\r\n            }\r\n        ], \r\n        \"minLatency\": 0, \r\n        \"avgLatency\": 0, \r\n        \"maxLatency\": 481, \r\n        \"received\": 13582767, \r\n        \"sent\": 13572817, \r\n        \"outstanding\": 0, \r\n        \"zxId\": \"0x8900044da8\", \r\n        \"nodes\": 2547\r\n    }\r\n}\r\n```\r\n\r\n\r\n## Environment\r\n\r\nShow the server env, parameters\r\n\r\n* Http Method: GET\r\n* URL: ```http://localhost:8080/Zookie/server/env```, ```http://localhost:8080/Zookie/server/env?hosts=zk1:2181&zk2:2181```\r\n\r\n```\r\n{\r\n    \"localhost:2181\": {\r\n        \"attributes\": {\r\n            ...\r\n            \"os.arch\": \"x86_64\", \r\n            \"zookeeper.version\": \"3.4.0-1142383, built on 07/03/2011 07:48 GMT\", \r\n            \"java.version\": \"1.6.0_29\", \r\n            \"java.library.path\": \".:/usr/lib/java\", \r\n            \"java.vendor\": \"Apple Inc.\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nErez Mazor, erezmazor@gmail.com, @mazorE on Twitter\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}